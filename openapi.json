{"openapi":"3.1.0","info":{"title":"AI Secretary System","description":"AI秘書システム - メール・LINE仲介、物品購入、支払い自動化","version":"0.1.0"},"paths":{"/api/v1/wish":{"post":{"summary":"Process Wish","description":"ユーザーの「○○したい」という願望を処理\nAIエージェントが提案を生成し、必要に応じて実行\n\ntoolsパラメータで使用するツールを明示的に指定できます:\n- browse_website: Webサイトの閲覧\n- fill_form: フォームの入力\n- click_element: Web要素のクリック\n- take_screenshot: スクリーンショット取得\n- send_email: メール送信\n- search_email: メール検索\n- read_email: メール読み取り\n- send_line_message: LINEメッセージ送信\n- search_web: Web検索","operationId":"process_wish_api_v1_wish_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WishRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WishResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/{id}/revise":{"post":{"summary":"Revise Task","description":"タスクの提案を訂正\n\n既存のタスクに対して訂正リクエストを送り、新しい提案を生成します。\n例: \"17時じゃなくて16時にして\", \"グリーン車にして\", \"予算は30万円で\"","operationId":"revise_task_api_v1_task__id__revise_post","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviseRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WishResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/{id}/confirm":{"post":{"summary":"Confirm Task","description":"タスクの実行を確認・承認","operationId":"confirm_task_api_v1_task__id__confirm_post","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/{id}":{"get":{"summary":"Get Task Status","description":"タスクのステータスを取得","operationId":"get_task_status_api_v1_task__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tasks":{"get":{"summary":"List Tasks","description":"タスク一覧を取得","operationId":"list_tasks_api_v1_tasks_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/{id}/provide-credentials":{"post":{"summary":"Provide Credentials","description":"タスク実行中に認証情報を提供（ログインまたは新規登録）\n\nユーザーフロー：\n1. execution-statusで status=\"awaiting_credentials\" の場合、auth_options が返される\n2. auth_options.login_fields でログインフォームを表示\n3. auth_options.registration_fields で新規登録フォームを表示（自動生成パスワード付き）\n4. ユーザーが選択したフローに応じて is_new_registration を設定\n\nRequest（ログインの場合）:\n```json\n{\n  \"service\": \"willer\",\n  \"credentials\": {\"email\": \"user@example.com\", \"password\": \"secret123\"},\n  \"save_credentials\": true,\n  \"is_new_registration\": false\n}\n```\n\nRequest（新規登録の場合）:\n```json\n{\n  \"service\": \"willer\",\n  \"credentials\": {\"email\": \"new@example.com\", \"password\": \"AutoGenPass123\"},\n  \"save_credentials\": true,\n  \"is_new_registration\": true\n}\n```","operationId":"provide_credentials_api_v1_task__id__provide_credentials_post","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProvideCredentialsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProvideCredentialsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/{id}/execution-status":{"get":{"summary":"Get Execution Status","description":"実行状況をリアルタイム取得（ポーリング用）\n\nResponse:\n```json\n{\n  \"task_id\": \"uuid\",\n  \"status\": \"executing\",\n  \"progress\": {\n    \"current_step\": \"logging_in\",\n    \"steps_completed\": [\"opened_url\", \"entered_credentials\"],\n    \"steps_remaining\": [\"submit_form\", \"confirm_booking\"],\n    \"screenshot_url\": \"/screenshots/task_xxx_step2.png\"\n  }\n}\n```","operationId":"get_execution_status_api_v1_task__id__execution_status_get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutionStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/register":{"post":{"tags":["chat"],"summary":"Register","description":"Register a new user","operationId":"register_api_v1_chat_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/login":{"post":{"tags":["chat"],"summary":"Login","description":"Login and get JWT token","operationId":"login_api_v1_chat_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/me":{"get":{"tags":["chat"],"summary":"Get Me","description":"Get current user profile","operationId":"get_me_api_v1_chat_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]},"patch":{"tags":["chat"],"summary":"Update Me","description":"Update current user profile","operationId":"update_me_api_v1_chat_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/invite":{"post":{"tags":["chat"],"summary":"Create Invite","description":"Create an invite link","operationId":"create_invite_api_v1_chat_invite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteCreateRequest","default":{"max_uses":1,"expires_in_hours":24}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/invite/{code}":{"get":{"tags":["chat"],"summary":"Get Invite","description":"Get invite information","operationId":"get_invite_api_v1_chat_invite__code__get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteInfoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/invite/{code}/accept":{"post":{"tags":["chat"],"summary":"Accept Invite","description":"Accept an invite and become friends","operationId":"accept_invite_api_v1_chat_invite__code__accept_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteAcceptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/friends":{"get":{"tags":["chat"],"summary":"Get Friends","description":"Get friends list","operationId":"get_friends_api_v1_chat_friends_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FriendsListResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/friends/{friend_id}":{"delete":{"tags":["chat"],"summary":"Delete Friend","description":"Delete a friend","operationId":"delete_friend_api_v1_chat_friends__friend_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"friend_id","in":"path","required":true,"schema":{"type":"string","title":"Friend Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/rooms":{"get":{"tags":["chat"],"summary":"Get Rooms","description":"Get chat rooms","operationId":"get_rooms_api_v1_chat_rooms_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomsListResponse"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["chat"],"summary":"Create Room","description":"Create a group chat room","operationId":"create_room_api_v1_chat_rooms_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/rooms/{room_id}":{"get":{"tags":["chat"],"summary":"Get Room","description":"Get room details","operationId":"get_room_api_v1_chat_rooms__room_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["chat"],"summary":"Update Room","description":"Update room settings","operationId":"update_room_api_v1_chat_rooms__room_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/rooms/{room_id}/members":{"get":{"tags":["chat"],"summary":"Get Room Members","description":"Get room members","operationId":"get_room_members_api_v1_chat_rooms__room_id__members_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomMembersListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["chat"],"summary":"Add Room Member","description":"Add a member to the room","operationId":"add_room_member_api_v1_chat_rooms__room_id__members_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddMemberRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomMemberResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/rooms/{room_id}/messages":{"get":{"tags":["chat"],"summary":"Get Messages","description":"Get messages from a room","operationId":"get_messages_api_v1_chat_rooms__room_id__messages_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"before","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Before"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessagesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["chat"],"summary":"Send Message","description":"Send a message to a room","operationId":"send_message_api_v1_chat_rooms__room_id__messages_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageSendRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/rooms/{room_id}/read":{"post":{"tags":["chat"],"summary":"Mark As Read","description":"Mark messages as read","operationId":"mark_as_read_api_v1_chat_rooms__room_id__read_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadMarkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/rooms/{room_id}/ai":{"get":{"tags":["chat"],"summary":"Get Ai Settings","description":"Get AI settings for a room","operationId":"get_ai_settings_api_v1_chat_rooms__room_id__ai_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AISettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["chat"],"summary":"Update Ai Settings","description":"Update AI settings for a room","operationId":"update_ai_settings_api_v1_chat_rooms__room_id__ai_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AISettingsUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AISettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/rooms/{room_id}/ai/summary":{"get":{"tags":["chat"],"summary":"Get Ai Summary","description":"Get AI summary of recent conversation","operationId":"get_ai_summary_api_v1_chat_rooms__room_id__ai_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AISummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dan":{"get":{"tags":["chat"],"summary":"Get Dan Room","description":"ダンページ（ユーザーとダンの1対1ルーム）を取得\n\n- ルームが存在しない場合は自動作成\n- 未読メッセージ数と保留中の提案数も返す","operationId":"get_dan_room_api_v1_chat_dan_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DanRoomResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/dan/messages":{"get":{"tags":["chat"],"summary":"Get Dan Messages","description":"ダンページのメッセージを取得","operationId":"get_dan_messages_api_v1_chat_dan_messages_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"before","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Before"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessagesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["chat"],"summary":"Send Dan Message","description":"ダンにメッセージを送信","operationId":"send_dan_message_api_v1_chat_dan_messages_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageSendRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dan/read":{"post":{"tags":["chat"],"summary":"Mark Dan As Read","description":"ダンページを既読にする","operationId":"mark_dan_as_read_api_v1_chat_dan_read_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadMarkResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/proposals":{"get":{"tags":["chat"],"summary":"Get Proposals","description":"ダンからの提案一覧を取得\n\n- status: フィルター（pending, approved, rejected, expired）\n- limit: 取得件数（デフォルト50）","operationId":"get_proposals_api_v1_chat_proposals_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProposalsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/proposals/{proposal_id}":{"get":{"tags":["chat"],"summary":"Get Proposal","description":"提案の詳細を取得","operationId":"get_proposal_api_v1_chat_proposals__proposal_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"proposal_id","in":"path","required":true,"schema":{"type":"string","title":"Proposal Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProposalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/proposals/{proposal_id}/respond":{"post":{"tags":["chat"],"summary":"Respond To Proposal","description":"提案に対応する\n\n- action: approve（承認）, reject（却下）, edit（編集して承認）\n- edited_content: action=editの場合、編集後の内容","operationId":"respond_to_proposal_api_v1_chat_proposals__proposal_id__respond_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"proposal_id","in":"path","required":true,"schema":{"type":"string","title":"Proposal Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProposalActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProposalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/credentials":{"post":{"summary":"Save Credentials","description":"認証情報を暗号化して保存\n\nRequest:\n```json\n{\n  \"service\": \"ex_reservation\",\n  \"credentials\": {\n    \"email\": \"user@example.com\",\n    \"password\": \"secret123\"\n  }\n}\n```\n\nResponse:\n```json\n{\n  \"success\": true,\n  \"service\": \"ex_reservation\",\n  \"message\": \"認証情報を保存しました\"\n}\n```","operationId":"save_credentials_api_v1_credentials_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"List Credentials","description":"保存済みサービス一覧を取得\n\nResponse:\n```json\n{\n  \"services\": [\n    {\n      \"service\": \"ex_reservation\",\n      \"created_at\": \"2024-12-21T10:00:00Z\",\n      \"updated_at\": \"2024-12-21T10:00:00Z\"\n    },\n    {\n      \"service\": \"amazon\",\n      \"created_at\": \"2024-12-20T09:00:00Z\",\n      \"updated_at\": null\n    }\n  ]\n}\n```","operationId":"list_credentials_api_v1_credentials_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/credentials/{service}":{"delete":{"summary":"Delete Credentials","description":"認証情報を削除\n\nResponse:\n```json\n{\n  \"success\": true,\n  \"service\": \"ex_reservation\",\n  \"message\": \"認証情報を削除しました\"\n}\n```","operationId":"delete_credentials_api_v1_credentials__service__delete","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","title":"Service"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CredentialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gmail/setup":{"post":{"tags":["gmail"],"summary":"Gmail Setup","description":"Gmail OAuth2認証を開始\n\n認証URLを返すので、ユーザーにそのURLにアクセスさせてGmail連携を許可してもらう","operationId":"gmail_setup_api_v1_gmail_setup_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GmailSetupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gmail/callback":{"get":{"tags":["gmail"],"summary":"Gmail Callback","description":"Gmail OAuth2コールバック（GETリダイレクト用）\n\nGoogleからリダイレクトされてきた時に呼ばれる","operationId":"gmail_callback_api_v1_gmail_callback_get","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string","description":"Authorization code from Google","title":"Code"},"description":"Authorization code from Google"},{"name":"state","in":"query","required":true,"schema":{"type":"string","description":"User ID passed as state","title":"State"},"description":"User ID passed as state"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["gmail"],"summary":"Gmail Callback Post","description":"Gmail OAuth2コールバック（POST用）\n\nフロントエンドからコードを送信する場合に使用","operationId":"gmail_callback_post_api_v1_gmail_callback_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GmailCallbackRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GmailCallbackResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gmail/status":{"get":{"tags":["gmail"],"summary":"Gmail Status","description":"Gmail連携状態を確認","operationId":"gmail_status_api_v1_gmail_status_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GmailStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gmail/sync":{"post":{"tags":["gmail"],"summary":"Gmail Sync","description":"手動でメール同期を実行\n\n新着の未読メールを取得してdetected_messagesに保存","operationId":"gmail_sync_api_v1_gmail_sync_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},{"name":"max_results","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"最大取得件数","default":50,"title":"Max Results"},"description":"最大取得件数"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GmailSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/gmail/disconnect":{"delete":{"tags":["gmail"],"summary":"Gmail Disconnect","description":"Gmail連携を解除","operationId":"gmail_disconnect_api_v1_gmail_disconnect_delete","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GmailDisconnectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detection/messages":{"get":{"tags":["detection"],"summary":"List Detected Messages","description":"検知メッセージ一覧を取得\n\nフィルタ:\n- source: done_chat, gmail, line\n- status: pending, processing, processed, failed\n- content_type: invoice, otp, notification, general","operationId":"list_detected_messages_api_v1_detection_messages_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/MessageSource"},{"type":"null"}],"title":"Source"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/DetectionStatus"},{"type":"null"}],"title":"Status"}},{"name":"content_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ContentType"},{"type":"null"}],"title":"Content Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetectedMessagesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detection/messages/{message_id}":{"get":{"tags":["detection"],"summary":"Get Detected Message","description":"検知メッセージを取得","operationId":"get_detected_message_api_v1_detection_messages__message_id__get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetectedMessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detection/messages/{message_id}/attachments":{"get":{"tags":["detection"],"summary":"List Message Attachments","description":"検知メッセージの添付ファイル一覧を取得","operationId":"list_message_attachments_api_v1_detection_messages__message_id__attachments_get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detection/messages/{message_id}/download-attachments":{"post":{"tags":["detection"],"summary":"Download Message Attachments","description":"Gmailメッセージの添付ファイルをダウンロード・保存\n\nGmail連携済みの場合、メッセージの添付ファイルをダウンロードしてローカルに保存","operationId":"download_message_attachments_api_v1_detection_messages__message_id__download_attachments_post","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detection/attachments/{attachment_id}":{"get":{"tags":["detection"],"summary":"Download Attachment","description":"添付ファイルをダウンロード","operationId":"download_attachment_api_v1_detection_attachments__attachment_id__get","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"string","title":"Attachment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["detection"],"summary":"Delete Attachment","description":"添付ファイルを削除","operationId":"delete_attachment_api_v1_detection_attachments__attachment_id__delete","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"string","title":"Attachment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detection/attachments/{attachment_id}/info":{"get":{"tags":["detection"],"summary":"Get Attachment Info","description":"添付ファイル情報を取得","operationId":"get_attachment_info_api_v1_detection_attachments__attachment_id__info_get","parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"string","title":"Attachment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AttachmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/content/extract/pdf":{"post":{"tags":["content-intelligence"],"summary":"Extract Text From Pdf","description":"PDFファイルからテキストを抽出\n\n- **file**: PDFファイル\n- **classify**: 分類も行うかどうか（デフォルト: True）","operationId":"extract_text_from_pdf_api_v1_content_extract_pdf_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_extract_text_from_pdf_api_v1_content_extract_pdf_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeContentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/content/extract/image":{"post":{"tags":["content-intelligence"],"summary":"Extract Text From Image","description":"画像ファイルからテキストを抽出（OCR）\n\n- **file**: 画像ファイル（PNG, JPEG, GIF）\n- **language**: OCR言語（デフォルト: jpn+eng）\n- **classify**: 分類も行うかどうか（デフォルト: True）","operationId":"extract_text_from_image_api_v1_content_extract_image_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_extract_text_from_image_api_v1_content_extract_image_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeContentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/content/extract/url":{"post":{"tags":["content-intelligence"],"summary":"Extract Text From Url","description":"URLにアクセスしてテキストコンテンツを取得\n\n- **url**: 取得するURL\n- **wait_for_selector**: 待機するCSSセレクタ（オプション）\n- **timeout_ms**: タイムアウト（ミリ秒、デフォルト: 30000）","operationId":"extract_text_from_url_api_v1_content_extract_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractTextFromURLRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractTextFromURLResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/content/classify":{"post":{"tags":["content-intelligence"],"summary":"Classify Content","description":"テキストをカテゴリ分類\n\n- **text**: 分類するテキスト\n- **subject**: 件名（オプション）\n- **sender**: 送信者（オプション）","operationId":"classify_content_api_v1_content_classify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassifyContentRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassifyContentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/content/analyze/attachment/{attachment_id}":{"post":{"tags":["content-intelligence"],"summary":"Analyze Attachment","description":"保存済み添付ファイルを解析\n\n- **attachment_id**: 添付ファイルID\n- **classify**: 分類も行うかどうか（デフォルト: True）","operationId":"analyze_attachment_api_v1_content_analyze_attachment__attachment_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"attachment_id","in":"path","required":true,"schema":{"type":"string","title":"Attachment Id"}},{"name":"classify","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Classify"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeContentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/content/analyze/message/{message_id}":{"post":{"tags":["content-intelligence"],"summary":"Analyze Detected Message","description":"検知メッセージを解析・分類\n\n- **message_id**: 検知メッセージID\n- **include_attachments**: 添付ファイルも処理するか（デフォルト: True）","operationId":"analyze_detected_message_api_v1_content_analyze_message__message_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}},{"name":"include_attachments","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Attachments"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/content/analyze/batch":{"post":{"tags":["content-intelligence"],"summary":"Batch Analyze Messages","description":"複数の検知メッセージをバッチ解析\n\n- **message_ids**: 解析するメッセージIDのリスト","operationId":"batch_analyze_messages_api_v1_content_analyze_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchAnalyzeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchAnalyzeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/invoices":{"post":{"tags":["invoices"],"summary":"Create Invoice","description":"請求書を作成\n\n- **sender_name**: 発行元名（必須）\n- **amount**: 請求金額（必須、税込み）\n- **due_date**: 支払期日（必須）\n- **invoice_number**: 請求書番号（オプション）\n- **invoice_month**: 請求対象月（オプション、YYYY-MM形式）\n- **bank_info**: 振込先情報（オプション）\n- **source**: ソース（email/chat/manual）\n- **source_channel**: ソースチャンネル","operationId":"create_invoice_api_v1_invoices_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["invoices"],"summary":"List Invoices","description":"請求書一覧を取得\n\n- **status**: ステータスでフィルタ（pending/approved/paid等）\n- **page**: ページ番号（デフォルト: 1）\n- **page_size**: 1ページあたりの件数（デフォルト: 20）","operationId":"list_invoices_api_v1_invoices_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}/approve":{"post":{"tags":["invoices"],"summary":"Approve Invoice","description":"請求書を承認\n\n- **invoice_id**: 請求書ID\n- **payment_type**: 支払い方法タイプ（bank_transfer/credit_card/convenience）\n- **payment_method_id**: 支払い方法ID（オプション）\n- **scheduled_time_override**: スケジュール上書き（オプション）","operationId":"approve_invoice_api_v1_invoices__invoice_id__approve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","title":"Invoice Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceApproveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}/reject":{"post":{"tags":["invoices"],"summary":"Reject Invoice","description":"請求書を却下\n\n- **invoice_id**: 請求書ID\n- **reason**: 却下理由（オプション）","operationId":"reject_invoice_api_v1_invoices__invoice_id__reject_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","title":"Invoice Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceRejectRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}/pay":{"post":{"tags":["invoices"],"summary":"Execute Payment","description":"請求書の支払いを実行\n\n- **invoice_id**: 請求書ID\n- **bank_type**: 銀行タイプ（simulation/sbi等、デフォルト: simulation）\n- **saved_recipient_id**: 保存済み振込先ID（オプション）","operationId":"execute_payment_api_v1_invoices__invoice_id__pay_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","title":"Invoice Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentExecuteRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentExecuteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}/payment-status":{"get":{"tags":["invoices"],"summary":"Get Payment Status","description":"支払い実行状況を取得\n\n- **invoice_id**: 請求書ID","operationId":"get_payment_status_api_v1_invoices__invoice_id__payment_status_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","title":"Invoice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-accounts":{"post":{"tags":["bank-accounts"],"summary":"Create Bank Account","description":"振込先を保存\n\n- **display_name**: 表示名（会社名など）\n- **bank_name**: 銀行名\n- **bank_code**: 銀行コード（4桁、オプション）\n- **branch_name**: 支店名\n- **branch_code**: 支店コード（3桁、オプション）\n- **account_type**: 口座種別（普通/当座）\n- **account_number**: 口座番号（最大7桁）\n- **account_holder**: 口座名義（カタカナ）","operationId":"create_bank_account_api_v1_bank_accounts_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedBankAccountCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedBankAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["bank-accounts"],"summary":"List Bank Accounts","description":"保存済み振込先一覧を取得\n\n- **page**: ページ番号（デフォルト: 1）\n- **page_size**: 1ページあたりの件数（デフォルト: 20）","operationId":"list_bank_accounts_api_v1_bank_accounts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedBankAccountListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-accounts/{bank_account_id}":{"get":{"tags":["bank-accounts"],"summary":"Get Bank Account","description":"振込先詳細を取得\n\n- **bank_account_id**: 振込先ID","operationId":"get_bank_account_api_v1_bank_accounts__bank_account_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","title":"Bank Account Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedBankAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["bank-accounts"],"summary":"Delete Bank Account","description":"振込先を削除\n\n- **bank_account_id**: 振込先ID","operationId":"delete_bank_account_api_v1_bank_accounts__bank_account_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","title":"Bank Account Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-accounts/{bank_account_id}/verify":{"post":{"tags":["bank-accounts"],"summary":"Verify Bank Account","description":"振込先を検証済みとしてマーク\n\n- **bank_account_id**: 振込先ID","operationId":"verify_bank_account_api_v1_bank_accounts__bank_account_id__verify_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","title":"Bank Account Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavedBankAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/otp/extract/email":{"post":{"tags":["OTP"],"summary":"Extract Otp From Email","description":"メールからOTPを抽出\n\nGmailから最新のメールを取得し、OTPを抽出します。","operationId":"extract_otp_from_email_api_v1_otp_extract_email_post","parameters":[{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPExtractionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPExtractionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/otp/latest":{"get":{"tags":["OTP"],"summary":"Get Latest Otp","description":"最新のOTPを取得\n\n未使用かつ有効期限内の最新OTPを返します。","operationId":"get_latest_otp_api_v1_otp_latest_get","parameters":[{"name":"service","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"対象サービス","title":"Service"},"description":"対象サービス"},{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ソース (email/sms)","title":"Source"},"description":"ソース (email/sms)"},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPLatestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/otp/{otp_id}/mark-used":{"post":{"tags":["OTP"],"summary":"Mark Otp Used","description":"OTPを使用済みにマーク","operationId":"mark_otp_used_api_v1_otp__otp_id__mark_used_post","parameters":[{"name":"otp_id","in":"path","required":true,"schema":{"type":"string","title":"Otp Id"}},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPMarkUsedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/otp/history":{"get":{"tags":["OTP"],"summary":"Get Otp History","description":"OTP抽出履歴を取得","operationId":"get_otp_history_api_v1_otp_history_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"service","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"サービスでフィルタ","title":"Service"},"description":"サービスでフィルタ"},{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/otp/sms/status":{"get":{"tags":["OTP"],"summary":"Get Sms Status","description":"SMS受信設定状態を確認","operationId":"get_sms_status_api_v1_otp_sms_status_get","parameters":[{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SMSStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/otp/sms/webhook":{"post":{"tags":["OTP"],"summary":"Sms Webhook","description":"Twilio SMS受信Webhook\n\nTwilioからSMSを受信した際に呼び出されます。\nリクエストはapplication/x-www-form-urlencoded形式です。","operationId":"sms_webhook_api_v1_otp_sms_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/otp/extract/sms":{"post":{"tags":["OTP"],"summary":"Extract Otp From Sms","description":"SMSからOTPを抽出\n\n受信済みSMSから最新のOTPを取得します。","operationId":"extract_otp_from_sms_api_v1_otp_extract_sms_post","parameters":[{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPExtractionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPExtractionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/otp/extract/voice":{"post":{"tags":["OTP"],"summary":"Extract Otp From Voice","description":"音声通話からOTPを抽出\n\n電話認証で通知されたOTPを音声の文字起こしから抽出します。\ncall_idが指定された場合はその通話から、\n指定されない場合は最新の着信から抽出を試みます。","operationId":"extract_otp_from_voice_api_v1_otp_extract_voice_post","parameters":[{"name":"x-user-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-User-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceOTPExtractionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OTPExtractionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/settings":{"get":{"tags":["voice"],"summary":"Get Voice Settings","description":"音声設定を取得\n\nユーザーの音声通話設定を取得します。\n設定がない場合はデフォルト設定が作成されます。","operationId":"get_voice_settings_api_v1_voice_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceSettingsResponse"}}}}}},"patch":{"tags":["voice"],"summary":"Update Voice Settings","description":"音声設定を更新\n\n音声通話の設定を更新します。\n指定したフィールドのみが更新されます。","operationId":"update_voice_settings_api_v1_voice_settings_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceSettingsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceSettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/inbound":{"patch":{"tags":["voice"],"summary":"Toggle Inbound","description":"受電のオン/オフを切り替え\n\n受電を受けるかどうかを設定します。","operationId":"toggle_inbound_api_v1_voice_inbound_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundToggleRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InboundToggleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/rules":{"get":{"tags":["voice"],"summary":"Get Phone Rules","description":"電話番号ルール一覧を取得\n\nホワイトリスト/ブラックリストの電話番号ルールを取得します。","operationId":"get_phone_rules_api_v1_voice_rules_get","parameters":[{"name":"rule_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/PhoneRuleType"},{"type":"null"}],"description":"ルールタイプでフィルタ","title":"Rule Type"},"description":"ルールタイプでフィルタ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhoneNumberRuleListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["voice"],"summary":"Add Phone Rule","description":"電話番号ルールを追加\n\nホワイトリストまたはブラックリストに電話番号を追加します。","operationId":"add_phone_rule_api_v1_voice_rules_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhoneNumberRuleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PhoneNumberRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/rules/{rule_id}":{"delete":{"tags":["voice"],"summary":"Delete Phone Rule","description":"電話番号ルールを削除\n\n指定した電話番号ルールを削除します。","operationId":"delete_phone_rule_api_v1_voice_rules__rule_id__delete","parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/calls":{"get":{"tags":["voice"],"summary":"Get Call History","description":"通話履歴を取得\n\nユーザーの通話履歴を取得します。","operationId":"get_call_history_api_v1_voice_calls_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"description":"取得件数","default":20,"title":"Limit"},"description":"取得件数"},{"name":"direction","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/CallDirection"},{"type":"null"}],"description":"通話方向でフィルタ","title":"Direction"},"description":"通話方向でフィルタ"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/CallStatus"},{"type":"null"}],"description":"状態でフィルタ","title":"Status"},"description":"状態でフィルタ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceCallListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/call/{call_id}":{"get":{"tags":["voice"],"summary":"Get Call","description":"通話情報を取得\n\n指定した通話の詳細情報を取得します。","operationId":"get_call_api_v1_voice_call__call_id__get","parameters":[{"name":"call_id","in":"path","required":true,"schema":{"type":"string","title":"Call Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceCallResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/call":{"post":{"tags":["voice"],"summary":"Initiate Call","description":"架電を開始\n\n指定した電話番号に発信します。\nAIが会話を処理します。\n\n- **to_number**: 発信先電話番号（E.164形式、例: +819012345678）\n- **purpose**: 通話目的（reservation, inquiry, otp_verification, confirmation, cancellation, other）\n- **context**: 会話コンテキスト（予約詳細など）\n- **task_id**: 関連タスクID","operationId":"initiate_call_api_v1_voice_call_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceCallCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceCallStartResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/call/{call_id}/end":{"post":{"tags":["voice"],"summary":"End Call","description":"通話を終了\n\n進行中の通話を終了します。","operationId":"end_call_api_v1_voice_call__call_id__end_post","parameters":[{"name":"call_id","in":"path","required":true,"schema":{"type":"string","title":"Call Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceCallEndResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/webhook/status":{"post":{"tags":["voice"],"summary":"Twilio Status Callback","description":"Twilio通話状態Webhook\n\nTwilioからの通話状態コールバックを処理します。\n通話の状態（開始、呼び出し中、通話中、終了など）を更新します。","operationId":"twilio_status_callback_api_v1_voice_webhook_status_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_twilio_status_callback_api_v1_voice_webhook_status_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/webhook/outbound":{"post":{"tags":["voice"],"summary":"Twilio Outbound Webhook","description":"架電用TwiML Webhook\n\n架電開始時にTwilioから呼ばれ、\nElevenLabsとの接続指示（TwiML）を返します。","operationId":"twilio_outbound_webhook_api_v1_voice_webhook_outbound_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_twilio_outbound_webhook_api_v1_voice_webhook_outbound_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/voice/webhook/incoming":{"post":{"tags":["voice"],"summary":"Twilio Incoming Webhook","description":"受電用TwiML Webhook\n\n着信時にTwilioから呼ばれ、\nAIによる応答を開始します。","operationId":"twilio_incoming_webhook_api_v1_voice_webhook_incoming_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_twilio_incoming_webhook_api_v1_voice_webhook_incoming_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/webhook/line":{"post":{"summary":"Line Webhook","description":"LINEからのWebhookを処理","operationId":"line_webhook_webhook_line_post","parameters":[{"name":"x-line-signature","in":"header","required":false,"schema":{"type":"string","title":"X-Line-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"ヘルスチェック用エンドポイント","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"詳細なヘルスチェック","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AIMode":{"type":"string","enum":["off","assist","auto"],"title":"AIMode","description":"AI Mode options"},"AISettingsResponse":{"properties":{"room_id":{"type":"string","title":"Room Id"},"enabled":{"type":"boolean","title":"Enabled"},"mode":{"$ref":"#/components/schemas/AIMode"},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality"},"auto_reply_delay_ms":{"type":"integer","title":"Auto Reply Delay Ms"}},"type":"object","required":["room_id","enabled","mode","auto_reply_delay_ms"],"title":"AISettingsResponse","description":"AI settings response"},"AISettingsUpdateRequest":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled"},"mode":{"anyOf":[{"$ref":"#/components/schemas/AIMode"},{"type":"null"}]},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality"},"auto_reply_delay_ms":{"anyOf":[{"type":"integer","maximum":30000.0,"minimum":0.0},{"type":"null"}],"title":"Auto Reply Delay Ms"}},"type":"object","title":"AISettingsUpdateRequest","description":"Update AI settings request"},"AISummaryResponse":{"properties":{"summary":{"type":"string","title":"Summary"},"message_count":{"type":"integer","title":"Message Count"},"last_message_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Message At"}},"type":"object","required":["summary","message_count"],"title":"AISummaryResponse","description":"AI summary response"},"AddMemberRequest":{"properties":{"user_id":{"type":"string","title":"User Id"}},"type":"object","required":["user_id"],"title":"AddMemberRequest","description":"Add member request"},"AnalyzeContentResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"extraction_result":{"anyOf":[{"$ref":"#/components/schemas/TextExtractionResult"},{"type":"null"}]},"classification_result":{"anyOf":[{"$ref":"#/components/schemas/ClassificationResult"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["success","processing_time_ms"],"title":"AnalyzeContentResponse","description":"コンテンツ解析APIレスポンス"},"AttachmentResponse":{"properties":{"filename":{"type":"string","title":"Filename"},"mime_type":{"type":"string","title":"Mime Type"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"id":{"type":"string","title":"Id"},"detected_message_id":{"type":"string","title":"Detected Message Id"},"storage_type":{"$ref":"#/components/schemas/StorageType"},"checksum":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checksum"},"extracted_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extracted Text"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["filename","mime_type","id","detected_message_id","storage_type","created_at"],"title":"AttachmentResponse","description":"添付ファイルレスポンス"},"AttachmentsListResponse":{"properties":{"attachments":{"items":{"$ref":"#/components/schemas/AttachmentResponse"},"type":"array","title":"Attachments"}},"type":"object","required":["attachments"],"title":"AttachmentsListResponse","description":"添付ファイル一覧レスポンス"},"AuthFieldInfo":{"properties":{"name":{"type":"string","title":"Name"},"label":{"type":"string","title":"Label"},"type":{"type":"string","title":"Type"},"required":{"type":"boolean","title":"Required","default":true},"placeholder":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Placeholder"},"default_value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Value"}},"type":"object","required":["name","label","type"],"title":"AuthFieldInfo","description":"フロントエンド表示用の認証フィールド情報"},"AuthOptions":{"properties":{"service":{"type":"string","title":"Service"},"service_display_name":{"type":"string","title":"Service Display Name"},"login_fields":{"items":{"$ref":"#/components/schemas/AuthFieldInfo"},"type":"array","title":"Login Fields"},"login_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Login Url"},"registration_fields":{"items":{"$ref":"#/components/schemas/AuthFieldInfo"},"type":"array","title":"Registration Fields"},"registration_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Registration Url"},"generated_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated Password"}},"type":"object","required":["service","service_display_name"],"title":"AuthOptions","description":"認証オプション（ログイン or 新規登録）"},"BankInfo":{"properties":{"bank_name":{"type":"string","title":"Bank Name"},"branch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Name"},"branch_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Code"},"account_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Type"},"account_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Number"},"account_holder":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Holder"}},"type":"object","required":["bank_name"],"title":"BankInfo","description":"振込先情報"},"BankType":{"type":"string","enum":["simulation","sbi","mufg","smbc","mizuho","rakuten"],"title":"BankType","description":"銀行タイプ"},"BatchAnalyzeRequest":{"properties":{"message_ids":{"items":{"type":"string"},"type":"array","title":"Message Ids"}},"type":"object","required":["message_ids"],"title":"BatchAnalyzeRequest","description":"バッチ解析リクエスト"},"BatchAnalyzeResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"total":{"type":"integer","title":"Total"},"processed":{"type":"integer","title":"Processed"},"failed":{"type":"integer","title":"Failed"},"results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Results"}},"type":"object","required":["success","total","processed","failed","results"],"title":"BatchAnalyzeResponse","description":"バッチ解析レスポンス"},"Body_extract_text_from_image_api_v1_content_extract_image_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"language":{"type":"string","title":"Language","default":"jpn+eng"},"classify":{"type":"string","title":"Classify","default":"true"}},"type":"object","required":["file"],"title":"Body_extract_text_from_image_api_v1_content_extract_image_post"},"Body_extract_text_from_pdf_api_v1_content_extract_pdf_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"classify":{"type":"string","title":"Classify","default":"true"}},"type":"object","required":["file"],"title":"Body_extract_text_from_pdf_api_v1_content_extract_pdf_post"},"Body_twilio_incoming_webhook_api_v1_voice_webhook_incoming_post":{"properties":{"CallSid":{"type":"string","title":"Callsid"},"From":{"type":"string","title":"From"},"To":{"type":"string","title":"To"},"CallerName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Callername"}},"type":"object","required":["CallSid","From","To"],"title":"Body_twilio_incoming_webhook_api_v1_voice_webhook_incoming_post"},"Body_twilio_outbound_webhook_api_v1_voice_webhook_outbound_post":{"properties":{"CallSid":{"type":"string","title":"Callsid"}},"type":"object","required":["CallSid"],"title":"Body_twilio_outbound_webhook_api_v1_voice_webhook_outbound_post"},"Body_twilio_status_callback_api_v1_voice_webhook_status_post":{"properties":{"CallSid":{"type":"string","title":"Callsid"},"CallStatus":{"type":"string","title":"Callstatus"},"CallDuration":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Callduration"}},"type":"object","required":["CallSid","CallStatus"],"title":"Body_twilio_status_callback_api_v1_voice_webhook_status_post"},"CallDirection":{"type":"string","enum":["inbound","outbound"],"title":"CallDirection","description":"通話方向"},"CallPurpose":{"type":"string","enum":["reservation","inquiry","otp_verification","confirmation","cancellation","other"],"title":"CallPurpose","description":"通話目的"},"CallStatus":{"type":"string","enum":["initiated","ringing","in_progress","completed","busy","no_answer","failed","canceled"],"title":"CallStatus","description":"通話状態"},"ClassificationResult":{"properties":{"category":{"$ref":"#/components/schemas/ContentCategory"},"confidence":{"$ref":"#/components/schemas/ContentConfidence"},"confidence_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence Score"},"reasoning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reasoning"},"extracted_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extracted Data"},"secondary_categories":{"anyOf":[{"items":{"$ref":"#/components/schemas/ContentCategory"},"type":"array"},{"type":"null"}],"title":"Secondary Categories"}},"type":"object","required":["category","confidence","confidence_score"],"title":"ClassificationResult","description":"コンテンツ分類結果"},"ClassifyContentRequest":{"properties":{"text":{"type":"string","title":"Text"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"sender":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender"}},"type":"object","required":["text"],"title":"ClassifyContentRequest","description":"コンテンツ分類APIリクエスト"},"ClassifyContentResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"result":{"anyOf":[{"$ref":"#/components/schemas/ClassificationResult"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"ClassifyContentResponse","description":"コンテンツ分類APIレスポンス"},"ContentCategory":{"type":"string","enum":["invoice","receipt","notification","otp","confirmation","newsletter","personal","spam","unknown"],"title":"ContentCategory","description":"コンテンツカテゴリ"},"ContentConfidence":{"type":"string","enum":["high","medium","low","uncertain"],"title":"ContentConfidence","description":"分類信頼度レベル"},"ContentType":{"type":"string","enum":["invoice","otp","notification","general"],"title":"ContentType","description":"コンテンツの分類"},"CredentialListItem":{"properties":{"service":{"type":"string","title":"Service"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["service","created_at"],"title":"CredentialListItem","description":"保存済み認証情報一覧の項目"},"CredentialListResponse":{"properties":{"services":{"items":{"$ref":"#/components/schemas/CredentialListItem"},"type":"array","title":"Services"}},"type":"object","required":["services"],"title":"CredentialListResponse","description":"保存済み認証情報一覧レスポンス"},"CredentialRequest":{"properties":{"service":{"type":"string","title":"Service"},"credentials":{"additionalProperties":{"type":"string"},"type":"object","title":"Credentials"}},"type":"object","required":["service","credentials"],"title":"CredentialRequest","description":"認証情報保存リクエスト"},"CredentialResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"service":{"type":"string","title":"Service"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","service","message"],"title":"CredentialResponse","description":"認証情報レスポンス"},"DanRoomResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name","default":"ダン"},"type":{"$ref":"#/components/schemas/RoomType","default":"dan"},"unread_count":{"type":"integer","title":"Unread Count","default":0},"pending_proposals_count":{"type":"integer","title":"Pending Proposals Count","default":0},"last_message_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Message At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","created_at"],"title":"DanRoomResponse","description":"ダンページルーム情報"},"DetectedMessageResponse":{"properties":{"source":{"$ref":"#/components/schemas/MessageSource"},"source_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Id"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"sender_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Sender Info"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"status":{"$ref":"#/components/schemas/DetectionStatus","default":"pending"},"content_type":{"anyOf":[{"$ref":"#/components/schemas/ContentType"},{"type":"null"}]},"processing_result":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Processing Result"},"processed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processed At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"attachments":{"items":{"$ref":"#/components/schemas/AttachmentResponse"},"type":"array","title":"Attachments","default":[]}},"type":"object","required":["source","id","user_id","created_at"],"title":"DetectedMessageResponse","description":"検知メッセージレスポンス"},"DetectedMessagesListResponse":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/DetectedMessageResponse"},"type":"array","title":"Messages"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["messages","total"],"title":"DetectedMessagesListResponse","description":"検知メッセージ一覧レスポンス"},"DetectionStatus":{"type":"string","enum":["pending","processing","processed","failed"],"title":"DetectionStatus","description":"検知メッセージの処理状態"},"ExecutionProgress":{"properties":{"current_step":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Step"},"steps_completed":{"items":{"type":"string"},"type":"array","title":"Steps Completed"},"steps_remaining":{"items":{"type":"string"},"type":"array","title":"Steps Remaining"},"screenshot_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Screenshot Url"}},"type":"object","title":"ExecutionProgress","description":"実行進捗"},"ExecutionStatus":{"type":"string","enum":["pending","executing","awaiting_credentials","completed","failed"],"title":"ExecutionStatus","description":"実行状態"},"ExecutionStatusResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"status":{"$ref":"#/components/schemas/ExecutionStatus"},"progress":{"anyOf":[{"$ref":"#/components/schemas/ExecutionProgress"},{"type":"null"}]},"required_service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Required Service"},"auth_options":{"anyOf":[{"$ref":"#/components/schemas/AuthOptions"},{"type":"null"}]},"execution_result":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Execution Result"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"}},"type":"object","required":["task_id","status"],"title":"ExecutionStatusResponse","description":"実行状況レスポンス"},"ExtractTextFromURLRequest":{"properties":{"url":{"type":"string","title":"Url"},"wait_for_selector":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wait For Selector"},"timeout_ms":{"type":"integer","title":"Timeout Ms","default":30000}},"type":"object","required":["url"],"title":"ExtractTextFromURLRequest","description":"URL先テキスト抽出リクエスト"},"ExtractTextFromURLResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"result":{"anyOf":[{"$ref":"#/components/schemas/URLExtractionResult"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"ExtractTextFromURLResponse","description":"URL先テキスト抽出レスポンス"},"ExtractionMethod":{"type":"string","enum":["pdf_pdfplumber","pdf_pymupdf","ocr_google_vision","ocr_tesseract","url_playwright","url_requests","direct_text"],"title":"ExtractionMethod","description":"テキスト抽出方法"},"FriendResponse":{"properties":{"id":{"type":"string","title":"Id"},"display_name":{"type":"string","title":"Display Name"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","display_name","created_at"],"title":"FriendResponse","description":"Friend response"},"FriendsListResponse":{"properties":{"friends":{"items":{"$ref":"#/components/schemas/FriendResponse"},"type":"array","title":"Friends"}},"type":"object","required":["friends"],"title":"FriendsListResponse","description":"Friends list response"},"GmailCallbackRequest":{"properties":{"code":{"type":"string","title":"Code"}},"type":"object","required":["code"],"title":"GmailCallbackRequest","description":"Gmail OAuthコールバックリクエスト"},"GmailCallbackResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"GmailCallbackResponse","description":"Gmail OAuthコールバックレスポンス"},"GmailDisconnectResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"GmailDisconnectResponse","description":"Gmail連携解除レスポンス"},"GmailSetupResponse":{"properties":{"auth_url":{"type":"string","title":"Auth Url"},"message":{"type":"string","title":"Message","default":"Please visit this URL to authorize Gmail access"}},"type":"object","required":["auth_url"],"title":"GmailSetupResponse","description":"Gmail OAuth設定開始レスポンス"},"GmailStatusResponse":{"properties":{"connected":{"type":"boolean","title":"Connected"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"last_sync":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync"},"is_active":{"type":"boolean","title":"Is Active","default":false}},"type":"object","required":["connected"],"title":"GmailStatusResponse","description":"Gmail連携状態レスポンス"},"GmailSyncResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"new_messages":{"type":"integer","title":"New Messages"},"message_ids":{"items":{"type":"string"},"type":"array","title":"Message Ids","default":[]}},"type":"object","required":["success","new_messages"],"title":"GmailSyncResponse","description":"Gmail手動同期レスポンス"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InboundToggleRequest":{"properties":{"enabled":{"type":"boolean","title":"Enabled"}},"type":"object","required":["enabled"],"title":"InboundToggleRequest","description":"受電オン/オフ切り替えリクエスト"},"InboundToggleResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"inbound_enabled":{"type":"boolean","title":"Inbound Enabled"}},"type":"object","required":["success","inbound_enabled"],"title":"InboundToggleResponse","description":"受電オン/オフ切り替えレスポンス"},"InviteAcceptResponse":{"properties":{"friend_id":{"type":"string","title":"Friend Id"},"room_id":{"type":"string","title":"Room Id"},"message":{"type":"string","title":"Message","default":"Friend added successfully"}},"type":"object","required":["friend_id","room_id"],"title":"InviteAcceptResponse","description":"Invite accept response"},"InviteCreateRequest":{"properties":{"max_uses":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Max Uses","default":1},"expires_in_hours":{"anyOf":[{"type":"integer","maximum":720.0,"minimum":1.0},{"type":"null"}],"title":"Expires In Hours","default":24}},"type":"object","title":"InviteCreateRequest","description":"Create invite request"},"InviteInfoResponse":{"properties":{"code":{"type":"string","title":"Code"},"creator_name":{"type":"string","title":"Creator Name"},"creator_avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator Avatar Url"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"is_valid":{"type":"boolean","title":"Is Valid"}},"type":"object","required":["code","creator_name","is_valid"],"title":"InviteInfoResponse","description":"Invite info response (for accept page)"},"InviteResponse":{"properties":{"id":{"type":"string","title":"Id"},"code":{"type":"string","title":"Code"},"invite_url":{"type":"string","title":"Invite Url"},"max_uses":{"type":"integer","title":"Max Uses"},"use_count":{"type":"integer","title":"Use Count"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","code","invite_url","max_uses","use_count","created_at"],"title":"InviteResponse","description":"Invite response"},"InvoiceApproveRequest":{"properties":{"payment_method_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method Id"},"payment_type":{"$ref":"#/components/schemas/PaymentType","default":"bank_transfer"},"scheduled_time_override":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Scheduled Time Override"}},"type":"object","title":"InvoiceApproveRequest","description":"請求書承認リクエスト"},"InvoiceCreateRequest":{"properties":{"sender_name":{"type":"string","title":"Sender Name"},"amount":{"type":"integer","exclusiveMinimum":0.0,"title":"Amount","description":"請求金額（税込）"},"due_date":{"type":"string","format":"date-time","title":"Due Date"},"invoice_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoice Number"},"invoice_month":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoice Month"},"source":{"$ref":"#/components/schemas/InvoiceSource","default":"manual"},"source_channel":{"type":"string","title":"Source Channel","default":"manual"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"raw_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Content"},"bank_info":{"anyOf":[{"$ref":"#/components/schemas/BankInfo"},{"type":"null"}]},"sender_contact_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender Contact Type"},"sender_contact_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender Contact Id"},"pdf_data":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Data"},"screenshot":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Screenshot"}},"type":"object","required":["sender_name","amount","due_date"],"title":"InvoiceCreateRequest","description":"請求書作成リクエスト"},"InvoiceListResponse":{"properties":{"invoices":{"items":{"$ref":"#/components/schemas/InvoiceResponse"},"type":"array","title":"Invoices"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["invoices","total","page","page_size"],"title":"InvoiceListResponse","description":"請求書一覧レスポンス"},"InvoiceRejectRequest":{"properties":{"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","title":"InvoiceRejectRequest","description":"請求書却下リクエスト"},"InvoiceResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"sender_name":{"type":"string","title":"Sender Name"},"sender_contact_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender Contact Type"},"sender_contact_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender Contact Id"},"amount":{"type":"integer","title":"Amount"},"due_date":{"type":"string","format":"date-time","title":"Due Date"},"invoice_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoice Number"},"invoice_month":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoice Month"},"source":{"type":"string","title":"Source"},"source_channel":{"type":"string","title":"Source Channel"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"bank_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Bank Info"},"status":{"$ref":"#/components/schemas/InvoiceStatus"},"scheduled_payment_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Scheduled Payment Time"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"approved_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approved By"},"paid_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Paid At"},"transaction_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Id"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"is_duplicate":{"type":"boolean","title":"Is Duplicate","default":false},"notification_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notification Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","user_id","sender_name","amount","due_date","source","source_channel","status","created_at"],"title":"InvoiceResponse","description":"請求書レスポンス"},"InvoiceSource":{"type":"string","enum":["email","chat","manual"],"title":"InvoiceSource","description":"請求書ソース"},"InvoiceStatus":{"type":"string","enum":["pending","approved","scheduled","executing","paid","rejected","failed"],"title":"InvoiceStatus","description":"請求書ステータス"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"User login request"},"MemberRole":{"type":"string","enum":["owner","admin","member"],"title":"MemberRole","description":"Member role in a room"},"MessageResponse":{"properties":{"id":{"type":"string","title":"Id"},"room_id":{"type":"string","title":"Room Id"},"sender_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender Id"},"sender_name":{"type":"string","title":"Sender Name"},"sender_type":{"$ref":"#/components/schemas/SenderType"},"content":{"type":"string","title":"Content"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","room_id","sender_name","sender_type","content","created_at"],"title":"MessageResponse","description":"Message response"},"MessageSendRequest":{"properties":{"content":{"type":"string","maxLength":10000,"minLength":1,"title":"Content"}},"type":"object","required":["content"],"title":"MessageSendRequest","description":"Send message request"},"MessageSource":{"type":"string","enum":["done_chat","gmail","line"],"title":"MessageSource","description":"メッセージのソース"},"MessagesListResponse":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/MessageResponse"},"type":"array","title":"Messages"}},"type":"object","required":["messages"],"title":"MessagesListResponse","description":"Messages list response"},"OTPExtractionRequest":{"properties":{"service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service","description":"対象サービス（amazon, ex_reservation等）"},"max_age_minutes":{"type":"integer","maximum":30.0,"minimum":1.0,"title":"Max Age Minutes","description":"最大経過時間（分）","default":5},"sender_filter":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender Filter","description":"送信元フィルタ（ドメイン等）"}},"type":"object","title":"OTPExtractionRequest","description":"OTP抽出リクエスト"},"OTPExtractionResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"otp":{"anyOf":[{"$ref":"#/components/schemas/OTPResult"},{"type":"null"}]},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["success"],"title":"OTPExtractionResponse","description":"OTP抽出レスポンス"},"OTPHistoryResponse":{"properties":{"extractions":{"items":{"$ref":"#/components/schemas/OTPResult"},"type":"array","title":"Extractions"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["extractions","total"],"title":"OTPHistoryResponse","description":"OTP履歴レスポンス"},"OTPLatestResponse":{"properties":{"otp":{"anyOf":[{"$ref":"#/components/schemas/OTPResult"},{"type":"null"}]}},"type":"object","title":"OTPLatestResponse","description":"最新OTP取得レスポンス"},"OTPMarkUsedResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"OTPMarkUsedResponse","description":"OTP使用済みマークレスポンス"},"OTPResult":{"properties":{"id":{"type":"string","title":"Id"},"code":{"type":"string","title":"Code"},"source":{"$ref":"#/components/schemas/OTPSource"},"sender":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject"},"service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service"},"extracted_at":{"type":"string","format":"date-time","title":"Extracted At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"is_used":{"type":"boolean","title":"Is Used","default":false}},"type":"object","required":["id","code","source","extracted_at"],"title":"OTPResult","description":"OTP抽出結果"},"OTPSource":{"type":"string","enum":["email","sms","voice"],"title":"OTPSource","description":"OTPのソース"},"PaymentExecuteRequest":{"properties":{"bank_type":{"$ref":"#/components/schemas/BankType","default":"simulation"},"saved_recipient_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Saved Recipient Id"},"use_invoice_bank_info":{"type":"boolean","title":"Use Invoice Bank Info","default":true}},"type":"object","title":"PaymentExecuteRequest","description":"支払い実行リクエスト"},"PaymentExecuteResponse":{"properties":{"invoice_id":{"type":"string","title":"Invoice Id"},"execution_id":{"type":"string","title":"Execution Id"},"status":{"$ref":"#/components/schemas/PaymentExecutionStatus"},"message":{"type":"string","title":"Message"}},"type":"object","required":["invoice_id","execution_id","status","message"],"title":"PaymentExecuteResponse","description":"支払い実行開始レスポンス"},"PaymentExecutionStatus":{"type":"string","enum":["pending","executing","awaiting_otp","completed","failed"],"title":"PaymentExecutionStatus","description":"支払い実行ステータス"},"PaymentStatusResponse":{"properties":{"invoice_id":{"type":"string","title":"Invoice Id"},"execution_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Execution Id"},"status":{"$ref":"#/components/schemas/PaymentExecutionStatus"},"current_step":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Step"},"steps_completed":{"items":{"type":"string"},"type":"array","title":"Steps Completed","default":[]},"steps_remaining":{"items":{"type":"string"},"type":"array","title":"Steps Remaining","default":[]},"requires_otp":{"type":"boolean","title":"Requires Otp","default":false},"transaction_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Id"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["invoice_id","status"],"title":"PaymentStatusResponse","description":"支払い実行状況レスポンス"},"PaymentType":{"type":"string","enum":["bank_transfer","credit_card","convenience","auto_debit"],"title":"PaymentType","description":"支払い方法タイプ"},"PhoneNumberRuleCreate":{"properties":{"phone_number":{"type":"string","title":"Phone Number","description":"電話番号（E.164形式）"},"rule_type":{"$ref":"#/components/schemas/PhoneRuleType","description":"ルールタイプ"},"label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label","description":"相手の名前・会社名"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"備考"}},"type":"object","required":["phone_number","rule_type"],"title":"PhoneNumberRuleCreate","description":"電話番号ルール作成"},"PhoneNumberRuleListResponse":{"properties":{"rules":{"items":{"$ref":"#/components/schemas/PhoneNumberRuleResponse"},"type":"array","title":"Rules"}},"type":"object","required":["rules"],"title":"PhoneNumberRuleListResponse","description":"電話番号ルール一覧レスポンス"},"PhoneNumberRuleResponse":{"properties":{"id":{"type":"string","title":"Id"},"phone_number":{"type":"string","title":"Phone Number"},"rule_type":{"$ref":"#/components/schemas/PhoneRuleType"},"label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","phone_number","rule_type","created_at"],"title":"PhoneNumberRuleResponse","description":"電話番号ルールレスポンス"},"PhoneRuleType":{"type":"string","enum":["whitelist","blacklist"],"title":"PhoneRuleType","description":"電話番号ルールタイプ"},"ProposalActionRequest":{"properties":{"action":{"type":"string","pattern":"^(approve|reject|edit)$","title":"Action"},"edited_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Edited Content"}},"type":"object","required":["action"],"title":"ProposalActionRequest","description":"提案アクションリクエスト"},"ProposalResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"type":{"$ref":"#/components/schemas/ProposalType"},"status":{"$ref":"#/components/schemas/ProposalStatus"},"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"source_room_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Room Id"},"source_room_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Room Name"},"source_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Message Id"},"action_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Action Data"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"responded_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Responded At"}},"type":"object","required":["id","user_id","type","status","title","content","created_at"],"title":"ProposalResponse","description":"提案レスポンス"},"ProposalStatus":{"type":"string","enum":["pending","approved","rejected","expired"],"title":"ProposalStatus","description":"提案ステータス"},"ProposalType":{"type":"string","enum":["reply","action","schedule","reminder"],"title":"ProposalType","description":"提案タイプ"},"ProposalsListResponse":{"properties":{"proposals":{"items":{"$ref":"#/components/schemas/ProposalResponse"},"type":"array","title":"Proposals"},"total_count":{"type":"integer","title":"Total Count"},"pending_count":{"type":"integer","title":"Pending Count"}},"type":"object","required":["proposals","total_count","pending_count"],"title":"ProposalsListResponse","description":"提案一覧レスポンス"},"ProvideCredentialsRequest":{"properties":{"service":{"type":"string","title":"Service"},"credentials":{"additionalProperties":{"type":"string"},"type":"object","title":"Credentials"},"save_credentials":{"type":"boolean","title":"Save Credentials","default":true},"is_new_registration":{"type":"boolean","title":"Is New Registration","default":false}},"type":"object","required":["service","credentials"],"title":"ProvideCredentialsRequest","description":"タスク実行中の認証情報提供リクエスト"},"ProvideCredentialsResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["task_id","status","message"],"title":"ProvideCredentialsResponse","description":"認証情報提供レスポンス"},"ReadMarkResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"read_at":{"type":"string","format":"date-time","title":"Read At"}},"type":"object","required":["success","read_at"],"title":"ReadMarkResponse","description":"Read mark response"},"RegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password"},"display_name":{"type":"string","maxLength":100,"minLength":1,"title":"Display Name"}},"type":"object","required":["email","password","display_name"],"title":"RegisterRequest","description":"User registration request"},"ReviseRequest":{"properties":{"revision":{"type":"string","title":"Revision"}},"type":"object","required":["revision"],"title":"ReviseRequest","description":"訂正リクエスト"},"RoomCreateRequest":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"member_ids":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Member Ids"}},"type":"object","required":["name","member_ids"],"title":"RoomCreateRequest","description":"Create room request"},"RoomMemberResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"display_name":{"type":"string","title":"Display Name"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"role":{"$ref":"#/components/schemas/MemberRole"},"ai_mode":{"$ref":"#/components/schemas/AIMode"},"joined_at":{"type":"string","format":"date-time","title":"Joined At"}},"type":"object","required":["user_id","display_name","role","ai_mode","joined_at"],"title":"RoomMemberResponse","description":"Room member response"},"RoomMembersListResponse":{"properties":{"members":{"items":{"$ref":"#/components/schemas/RoomMemberResponse"},"type":"array","title":"Members"}},"type":"object","required":["members"],"title":"RoomMembersListResponse","description":"Room members list response"},"RoomResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"type":{"$ref":"#/components/schemas/RoomType"},"my_role":{"anyOf":[{"$ref":"#/components/schemas/MemberRole"},{"type":"null"}]},"my_ai_mode":{"anyOf":[{"$ref":"#/components/schemas/AIMode"},{"type":"null"}]},"last_read_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Read At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","type","created_at"],"title":"RoomResponse","description":"Room response"},"RoomType":{"type":"string","enum":["direct","group","dan"],"title":"RoomType","description":"Room type"},"RoomUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name"}},"type":"object","title":"RoomUpdateRequest","description":"Update room request"},"RoomsListResponse":{"properties":{"rooms":{"items":{"$ref":"#/components/schemas/RoomResponse"},"type":"array","title":"Rooms"}},"type":"object","required":["rooms"],"title":"RoomsListResponse","description":"Rooms list response"},"SMSStatusResponse":{"properties":{"configured":{"type":"boolean","title":"Configured"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"is_active":{"type":"boolean","title":"Is Active","default":false}},"type":"object","required":["configured"],"title":"SMSStatusResponse","description":"SMS受信設定状態レスポンス"},"SavedBankAccountCreate":{"properties":{"display_name":{"type":"string","maxLength":100,"title":"Display Name","description":"表示名（会社名など）"},"bank_name":{"type":"string","maxLength":100,"title":"Bank Name","description":"銀行名"},"bank_code":{"anyOf":[{"type":"string","maxLength":4},{"type":"null"}],"title":"Bank Code","description":"銀行コード（4桁）"},"branch_name":{"type":"string","maxLength":100,"title":"Branch Name","description":"支店名"},"branch_code":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Branch Code","description":"支店コード（3桁）"},"account_type":{"type":"string","pattern":"^(普通|当座)$","title":"Account Type","description":"口座種別: 普通 or 当座"},"account_number":{"type":"string","maxLength":7,"title":"Account Number","description":"口座番号（最大7桁）"},"account_holder":{"type":"string","maxLength":100,"title":"Account Holder","description":"口座名義（カタカナ）"}},"type":"object","required":["display_name","bank_name","branch_name","account_type","account_number","account_holder"],"title":"SavedBankAccountCreate","description":"振込先作成リクエスト"},"SavedBankAccountListResponse":{"properties":{"bank_accounts":{"items":{"$ref":"#/components/schemas/SavedBankAccountResponse"},"type":"array","title":"Bank Accounts"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["bank_accounts","total"],"title":"SavedBankAccountListResponse","description":"振込先一覧レスポンス"},"SavedBankAccountResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"display_name":{"type":"string","title":"Display Name"},"bank_name":{"type":"string","title":"Bank Name"},"bank_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bank Code"},"branch_name":{"type":"string","title":"Branch Name"},"branch_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Code"},"account_type":{"type":"string","title":"Account Type"},"account_number":{"type":"string","title":"Account Number"},"account_number_full":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Number Full"},"account_holder":{"type":"string","title":"Account Holder"},"is_verified":{"type":"boolean","title":"Is Verified","default":false},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"use_count":{"type":"integer","title":"Use Count","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","user_id","display_name","bank_name","branch_name","account_type","account_number","account_holder","created_at"],"title":"SavedBankAccountResponse","description":"振込先レスポンス"},"SenderType":{"type":"string","enum":["human","ai"],"title":"SenderType","description":"Message sender type"},"StorageType":{"type":"string","enum":["local","supabase"],"title":"StorageType","description":"ストレージタイプ"},"TaskResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"type":{"$ref":"#/components/schemas/TaskType"},"status":{"$ref":"#/components/schemas/TaskStatus"},"original_wish":{"type":"string","title":"Original Wish"},"proposed_actions":{"items":{"type":"string"},"type":"array","title":"Proposed Actions","default":[]},"execution_result":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Execution Result"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","user_id","type","status","original_wish","created_at"],"title":"TaskResponse","description":"タスクレスポンス"},"TaskStatus":{"type":"string","enum":["pending","analyzing","proposed","confirmed","executing","completed","failed","cancelled"],"title":"TaskStatus","description":"タスクのステータス"},"TaskType":{"type":"string","enum":["email","line","purchase","payment","research","travel","phone","other"],"title":"TaskType","description":"タスクの種類"},"TextExtractionResult":{"properties":{"success":{"type":"boolean","title":"Success"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"method":{"$ref":"#/components/schemas/ExtractionMethod"},"page_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Page Count"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","required":["success","method"],"title":"TextExtractionResult","description":"テキスト抽出結果"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"TokenResponse","description":"JWT token response"},"URLExtractionResult":{"properties":{"success":{"type":"boolean","title":"Success"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"method":{"$ref":"#/components/schemas/ExtractionMethod"},"page_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Page Count"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"url":{"type":"string","title":"Url"},"final_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Final Url"}},"type":"object","required":["success","method","url"],"title":"URLExtractionResult","description":"URL先コンテンツ抽出結果"},"UserResponse":{"properties":{"id":{"type":"string","title":"Id"},"email":{"type":"string","title":"Email"},"display_name":{"type":"string","title":"Display Name"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","email","display_name","created_at"],"title":"UserResponse","description":"User profile response"},"UserUpdateRequest":{"properties":{"display_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Display Name"},"avatar_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Url"}},"type":"object","title":"UserUpdateRequest","description":"User profile update request"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VoiceCallCreate":{"properties":{"to_number":{"type":"string","title":"To Number","description":"発信先電話番号（E.164形式）"},"purpose":{"$ref":"#/components/schemas/CallPurpose","default":"other"},"context":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Context","description":"会話コンテキスト（予約詳細など）"},"task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Id","description":"関連タスクID"}},"type":"object","required":["to_number"],"title":"VoiceCallCreate","description":"架電開始リクエスト"},"VoiceCallEndResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"call":{"$ref":"#/components/schemas/VoiceCallResponse"}},"type":"object","required":["success","call"],"title":"VoiceCallEndResponse","description":"通話終了レスポンス"},"VoiceCallListResponse":{"properties":{"calls":{"items":{"$ref":"#/components/schemas/VoiceCallResponse"},"type":"array","title":"Calls"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["calls","total"],"title":"VoiceCallListResponse","description":"通話履歴一覧レスポンス"},"VoiceCallResponse":{"properties":{"id":{"type":"string","title":"Id"},"call_sid":{"type":"string","title":"Call Sid"},"direction":{"$ref":"#/components/schemas/CallDirection"},"status":{"$ref":"#/components/schemas/CallStatus"},"from_number":{"type":"string","title":"From Number"},"to_number":{"type":"string","title":"To Number"},"started_at":{"type":"string","format":"date-time","title":"Started At"},"answered_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Answered At"},"ended_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ended At"},"duration_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration Seconds"},"transcription":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcription"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"purpose":{"anyOf":[{"$ref":"#/components/schemas/CallPurpose"},{"type":"null"}]},"task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Id"}},"type":"object","required":["id","call_sid","direction","status","from_number","to_number","started_at"],"title":"VoiceCallResponse","description":"通話情報レスポンス"},"VoiceCallStartResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"call":{"$ref":"#/components/schemas/VoiceCallResponse"}},"type":"object","required":["success","call"],"title":"VoiceCallStartResponse","description":"架電開始レスポンス"},"VoiceOTPExtractionRequest":{"properties":{"call_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Call Id"},"service":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service"},"max_age_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Age Minutes"}},"type":"object","title":"VoiceOTPExtractionRequest","description":"音声OTP抽出リクエスト"},"VoiceSettingsResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"inbound_enabled":{"type":"boolean","title":"Inbound Enabled","default":false},"default_greeting":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Greeting"},"auto_answer_whitelist":{"type":"boolean","title":"Auto Answer Whitelist","default":false},"record_calls":{"type":"boolean","title":"Record Calls","default":false},"notify_via_chat":{"type":"boolean","title":"Notify Via Chat","default":true},"elevenlabs_voice_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Elevenlabs Voice Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","user_id","created_at","updated_at"],"title":"VoiceSettingsResponse","description":"音声設定レスポンス"},"VoiceSettingsUpdate":{"properties":{"inbound_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Inbound Enabled","description":"受電を受けるかどうか"},"default_greeting":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Greeting","description":"デフォルトの挨拶"},"auto_answer_whitelist":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Auto Answer Whitelist","description":"ホワイトリストは自動応答"},"record_calls":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Record Calls","description":"通話を録音するか"},"notify_via_chat":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Notify Via Chat","description":"チャットに通知するか"},"elevenlabs_voice_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Elevenlabs Voice Id","description":"ElevenLabsの音声ID"}},"type":"object","title":"VoiceSettingsUpdate","description":"音声設定更新"},"WishRequest":{"properties":{"wish":{"type":"string","title":"Wish"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"tools":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tools"}},"type":"object","required":["wish"],"title":"WishRequest","description":"ユーザーの願望リクエスト"},"WishResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"message":{"type":"string","title":"Message"},"proposed_actions":{"items":{"type":"string"},"type":"array","title":"Proposed Actions"},"proposal_detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proposal Detail"},"requires_confirmation":{"type":"boolean","title":"Requires Confirmation"},"search_results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Search Results","default":[]}},"type":"object","required":["task_id","message","proposed_actions","requires_confirmation"],"title":"WishResponse","description":"願望に対するレスポンス"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}